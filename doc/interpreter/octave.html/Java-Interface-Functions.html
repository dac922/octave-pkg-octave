<html lang="en">
<head>
<title>Java Interface Functions - GNU Octave</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Octave">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Java-Interface.html#Java-Interface" title="Java Interface">
<link rel="next" href="Dialog-Box-Functions.html#Dialog-Box-Functions" title="Dialog Box Functions">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Java-Interface-Functions"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Dialog-Box-Functions.html#Dialog-Box-Functions">Dialog Box Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Java-Interface.html#Java-Interface">Java Interface</a>
<hr>
</div>

<h3 class="section">37.1 Java Interface Functions</h3>

<p>The following functions are the core of the Java Interface.  They provide
a way to create a Java object, get and set its data fields, and call Java
methods which return results to Octave.

   <p><a name="index-object_002c-creating-a-Java-object-3832"></a><!-- javaObject libinterp/octave-value/ov-java.cc -->
<a name="XREFjavaObject"></a>

<div class="defun">
&mdash; Built-in Function: <var>jobj</var> = <b>javaObject</b> (<var>classname</var>)<var><a name="index-javaObject-3833"></a></var><br>
&mdash; Built-in Function: <var>jobj</var> = <b>javaObject</b> (<var>classname, arg1, <small class="dots">...</small></var>)<var><a name="index-javaObject-3834"></a></var><br>
<blockquote><p>Create a Java object of class <var>classsname</var>, by calling the class
constructor with the arguments <var>arg1</var>, <small class="dots">...</small>

        <p>The first example below creates an uninitialized object,
while the second example supplies an initial argument to the constructor.

     <pre class="example">          x = javaObject ("java.lang.StringBuffer")
          x = javaObject ("java.lang.StringBuffer", "Initial string")
</pre>
        <p class="noindent"><strong>See also:</strong> <a href="XREFjavaMethod.html#XREFjavaMethod">javaMethod</a>, <a href="XREFjavaArray.html#XREFjavaArray">javaArray</a>.

        </blockquote></div>

   <p><a name="index-fields_002c-displaying-available-fields-of-a-Java-object-3835"></a><strong>FIXME:</strong> Need documentation on how fieldnames() is overloaded to return
the methods of a Java object.

   <p><a name="index-field_002c-returning-value-of-Java-object-field-3836"></a><strong>FIXME:</strong> Need documentation on how to use structure-like indexing
to get fields from Java object.

   <p><a name="index-field_002c-setting-value-of-Java-object-field-3837"></a><strong>FIXME:</strong> Need documentation on how to use structure-like indexing
to set fields from Java object.

<!-- isjava libinterp/octave-value/ov-java.cc -->
   <p><a name="XREFisjava"></a>

<div class="defun">
&mdash; Built-in Function:  <b>isjava</b> (<var>x</var>)<var><a name="index-isjava-3838"></a></var><br>
<blockquote><p>Return true if <var>x</var> is a Java object.

     <p class="noindent"><strong>See also:</strong> <a href="XREFclass.html#XREFclass">class</a>, <a href="XREFtypeinfo.html#XREFtypeinfo">typeinfo</a>, <a href="XREFisa.html#XREFisa">isa</a>, <a href="XREFjavaObject.html#XREFjavaObject">javaObject</a>.

        </blockquote></div>

   <p><a name="index-array_002c-creating-a-Java-array-3839"></a><!-- javaArray scripts/java/javaArray.m -->
<a name="XREFjavaArray"></a>

<div class="defun">
&mdash; Function File: <var>jary</var> = <b>javaArray</b> (<var>classname, sz</var>)<var><a name="index-javaArray-3840"></a></var><br>
&mdash; Function File: <var>jary</var> = <b>javaArray</b> (<var>classname, m, n, <small class="dots">...</small></var>)<var><a name="index-javaArray-3841"></a></var><br>
<blockquote>
        <p>Create a Java array of size <var>sz</var> with elements of class
<var>classname</var>.  <var>classname</var> may be a Java object representing a class
or a string containing the fully qualified class name.  The size of
the object may also be specified with individual integer arguments
<var>m</var>, <var>n</var>, etc.

        <p>The generated array is uninitialized.  All elements are set to null
if <var>classname</var> is a reference type, or to a default value (usually 0)
if <var>classname</var> is a primitive type.

        <p>Sample code:

     <pre class="example">          jary = javaArray ("java.lang.String", 2, 2);
          jary(1,1) = "Hello";
</pre>
        <p class="noindent"><strong>See also:</strong> <a href="XREFjavaObject.html#XREFjavaObject">javaObject</a>.

        </blockquote></div>

   <p><a name="index-method_002c-invoking-a-method-of-a-Java-object-3842"></a><!-- javaMethod libinterp/octave-value/ov-java.cc -->
<a name="XREFjavaMethod"></a>

<div class="defun">
&mdash; Built-in Function: <var>ret</var> = <b>javaMethod</b> (<var>methodname, obj</var>)<var><a name="index-javaMethod-3843"></a></var><br>
&mdash; Built-in Function: <var>ret</var> = <b>javaMethod</b> (<var>methodname, obj, arg1, <small class="dots">...</small></var>)<var><a name="index-javaMethod-3844"></a></var><br>
<blockquote><p>Invoke the method <var>methodname</var> on the Java object <var>obj</var> with the
arguments <var>arg1</var>, <small class="dots">...</small>  For static methods, <var>obj</var> can be a string
representing the fully qualified name of the corresponding class.  The
function returns the result of the method invocation.

        <p>When <var>obj</var> is a regular Java object, structure-like indexing can be
used as a shortcut syntax.  For instance, the two following statements are
equivalent

     <pre class="example">            ret = javaMethod ("method1", x, 1.0, "a string")
            ret = x.method1 (1.0, "a string")
</pre>
        <p class="noindent"><strong>See also:</strong> <a href="XREFmethods.html#XREFmethods">methods</a>, <a href="XREFjavaObject.html#XREFjavaObject">javaObject</a>.

        </blockquote></div>

   <p><a name="index-methods_002c-displaying-available-methods-of-a-Java-object-3845"></a><strong>FIXME:</strong> Need documentation on how methods() is overloaded to return
the methods of a Java object.

   <p>The following three functions are used to display and modify the
class path used by the Java Virtual Machine.  This is entirely separate
from Octave's PATH variable and is used by the JVM to find the correct
code to execute.

   <p><a name="index-classpath_002c-displaying-3846"></a><a name="index-classpath_002c-dynamic-3847"></a><a name="index-dynamic-classpath-3848"></a><a name="index-classpath_002c-static-3849"></a><a name="index-static-classpath-3850"></a><!-- javaclasspath scripts/java/javaclasspath.m -->
<a name="XREFjavaclasspath"></a>

<div class="defun">
&mdash; Function File:  <b>javaclasspath</b> ()<var><a name="index-javaclasspath-3851"></a></var><br>
&mdash; Function File: <var>dpath</var> = <b>javaclasspath</b> ()<var><a name="index-javaclasspath-3852"></a></var><br>
&mdash; Function File: [<var>dpath</var>, <var>spath</var>] = <b>javaclasspath</b> ()<var><a name="index-javaclasspath-3853"></a></var><br>
&mdash; Function File: <var>clspath</var> = <b>javaclasspath</b> (<var>what</var>)<var><a name="index-javaclasspath-3854"></a></var><br>
<blockquote><p>Return the class path of the Java virtual machine in the form of a cell
array of strings.

        <p>If called with no inputs:

          <ul>
<li>If no output is requested, the dynamic and static classpaths are printed
to the standard output.

          <li>If one output value <var>dpath</var> is requested, the result is
the dynamic classpath.

          <li>If two output values<var>dpath</var> and <var>spath</var> are
requested, the first variable will contain the dynamic classpath and
the second will be contain the static classpath. 
</ul>

        <p>If called with a single input parameter <var>what</var>:

          <dl>
<dt><code>"-dynamic"</code><dd>Return the dynamic classpath.

          <br><dt><code>"-static"</code><dd>Return the static classpath.

          <br><dt><code>"-all"</code><dd>Return both the static and dynamic classpath in a single cellstr. 
</dl>

     <p class="noindent"><strong>See also:</strong> <a href="XREFjavaaddpath.html#XREFjavaaddpath">javaaddpath</a>, <a href="XREFjavarmpath.html#XREFjavarmpath">javarmpath</a>.

        </blockquote></div>

   <p><a name="index-javaaddpath-3855"></a><a name="index-classpath_002c-adding-new-path-3856"></a><a name="index-path_002c-adding-to-classpath-3857"></a><a name="index-classpath_002c-dynamic-3858"></a><a name="index-dynamic-classpath_002c-adding-new-path-3859"></a><!-- javaaddpath scripts/java/javaaddpath.m -->
<a name="XREFjavaaddpath"></a>

<div class="defun">
&mdash; Function File:  <b>javaaddpath</b> (<var>clspath</var>)<var><a name="index-javaaddpath-3860"></a></var><br>
&mdash; Function File:  <b>javaaddpath</b> (<var>clspath1, <small class="dots">...</small></var>)<var><a name="index-javaaddpath-3861"></a></var><br>
<blockquote><p>Add <var>clspath</var> to the dynamic class path of the Java virtual
machine.  <var>clspath</var> may either be a directory where <samp><span class="file">.class</span></samp>
files are found, or a <samp><span class="file">.jar</span></samp> file containing Java classes. 
Multiple paths may be added at once by specifying additional arguments.

     <p class="noindent"><strong>See also:</strong> <a href="XREFjavarmpath.html#XREFjavarmpath">javarmpath</a>, <a href="XREFjavaclasspath.html#XREFjavaclasspath">javaclasspath</a>.

        </blockquote></div>

   <p><a name="index-classpath_002c-removing-path-3862"></a><a name="index-path_002c-removing-from-classpath-3863"></a><!-- javarmpath scripts/java/javarmpath.m -->
<a name="XREFjavarmpath"></a>

<div class="defun">
&mdash; Function File:  <b>javarmpath</b> (<var>clspath</var>)<var><a name="index-javarmpath-3864"></a></var><br>
&mdash; Function File:  <b>javarmpath</b> (<var>clspath1, <small class="dots">...</small></var>)<var><a name="index-javarmpath-3865"></a></var><br>
<blockquote><p>Remove <var>clspath</var> from the dynamic class path of the Java virtual
machine.  <var>clspath</var> may either be a directory where <samp><span class="file">.class</span></samp>
files are found, or a <samp><span class="file">.jar</span></samp> file containing Java classes. 
Multiple paths may be removed at once by specifying additional arguments.

     <p class="noindent"><strong>See also:</strong> <a href="XREFjavaaddpath.html#XREFjavaaddpath">javaaddpath</a>, <a href="XREFjavaclasspath.html#XREFjavaclasspath">javaclasspath</a>.

        </blockquote></div>

   <p>The following four functions provide information and control over the interface
between Octave and the Java Virtual Machine.

<!-- usejava scripts/java/usejava.m -->
   <p><a name="XREFusejava"></a>

<div class="defun">
&mdash; Function File:  <b>usejava</b> (<var>feature</var>)<var><a name="index-usejava-3866"></a></var><br>
<blockquote><p>Return true if the Java element <var>feature</var> is available.

        <p>Possible features are:

          <dl>
<dt><code>"awt"</code><dd>Abstract Window Toolkit for GUIs.

          <br><dt><code>"desktop"</code><dd>Interactive desktop is running.

          <br><dt><code>"jvm"</code><dd>Java Virtual Machine.

          <br><dt><code>"swing"</code><dd>Swing components for lightweight GUIs. 
</dl>

        <p><code>usejava</code> determines if specific Java features are available in an
Octave session.  This function is provided for scripts which may alter
their behavior based on the availability of Java.  The feature
<code>"desktop"</code> always returns <code>false</code> as Octave has no Java-based
desktop.  Other features may be available if Octave was compiled with the
Java Interface and Java is installed. 
</p></blockquote></div>

   <p><a name="index-memory_002c-displaying-Java-memory-status-3867"></a><!-- javamem scripts/java/javamem.m -->
<a name="XREFjavamem"></a>

<div class="defun">
&mdash; Function File:  <b>javamem</b> ()<var><a name="index-javamem-3868"></a></var><br>
&mdash; Function File: <var>jmem</var> = <b>javamem</b> ()<var><a name="index-javamem-3869"></a></var><br>
<blockquote><p>Show the current memory usage of the Java virtual machine (JVM)
and run the garbage collector.

        <p>When no return argument is given the info is printed to the screen. 
Otherwise, the output cell array <var>jmem</var> contains Maximum, Total,
and Free memory (in bytes).

        <p>All Java-based routines are run in the JVM's shared memory pool,
a dedicated and separate part of memory claimed by the JVM from
your computer's total memory (which comprises physical RAM and
virtual memory / swap space on hard disk).

        <p>The maximum allowable memory usage can be configured using the file
<samp><span class="file">java.opts</span></samp>.  The directory where this file resides is
determined by the environment variable <samp><span class="env">OCTAVE_JAVA_DIR</span></samp><!-- /@w -->. 
If unset, the directory where <samp><span class="file">javaaddpath.m</span></samp> resides is used instead
(typically
<samp><samp><span class="env">OCTAVE_HOME</span></samp><span class="file"><!-- /@w -->/share/octave/</span><samp><span class="env">OCTAVE_VERSION</span></samp><span class="file"><!-- /@w -->/m/java/</span></samp>

        <p><samp><span class="file">java.opts</span></samp> is a plain text file with one option per line.  The
default initial memory size and default maximum memory size (which
are both system dependent) can be overridden like so:

        <p>-Xms64m

        <p>-Xmx512m

        <p>(in megabytes in this example). 
You can adapt these values to your own requirements if your system
has limited available physical memory or if you get Java memory
errors.

        <p>"Total memory" is what the operating system has currently assigned
to the JVM and depends on actual and active memory usage. 
"Free memory" is self-explanatory.  During operation of Java-based
Octave functions the amount of Total and Free memory will vary,
due to Java's own cleaning up and your operating system's memory
management. 
</p></blockquote></div>

<!-- java_matrix_autoconversion libinterp/octave-value/ov-java.cc -->
   <p><a name="XREFjava_005fmatrix_005fautoconversion"></a>

<div class="defun">
&mdash; Built-in Function: <var>val</var> = <b>java_matrix_autoconversion</b> ()<var><a name="index-java_005fmatrix_005fautoconversion-3870"></a></var><br>
&mdash; Built-in Function: <var>old_val</var> = <b>java_matrix_autoconversion</b> (<var>new_val</var>)<var><a name="index-java_005fmatrix_005fautoconversion-3871"></a></var><br>
&mdash; Built-in Function:  <b>java_matrix_autoconversion</b> (<var>new_val, "local"</var>)<var><a name="index-java_005fmatrix_005fautoconversion-3872"></a></var><br>
<blockquote><p>Query or set the internal variable that controls whether Java arrays are
automatically converted to Octave matrices.  The default value is false.

        <p>When called from inside a function with the <code>"local"</code> option, the
variable is changed locally for the function and any subroutines it calls. 
The original variable value is restored when exiting the function.

     <p class="noindent"><strong>See also:</strong> <a href="XREFjava_005funsigned_005fautoconversion.html#XREFjava_005funsigned_005fautoconversion">java_unsigned_autoconversion</a>, <a href="XREFdebug_005fjava.html#XREFdebug_005fjava">debug_java</a>.

        </blockquote></div>

<!-- java_unsigned_autoconversion libinterp/octave-value/ov-java.cc -->
   <p><a name="XREFjava_005funsigned_005fautoconversion"></a>

<div class="defun">
&mdash; Built-in Function: <var>val</var> = <b>java_unsigned_autoconversion</b> ()<var><a name="index-java_005funsigned_005fautoconversion-3873"></a></var><br>
&mdash; Built-in Function: <var>old_val</var> = <b>java_unsigned_autoconversion</b> (<var>new_val</var>)<var><a name="index-java_005funsigned_005fautoconversion-3874"></a></var><br>
&mdash; Built-in Function:  <b>java_unsigned_autoconversion</b> (<var>new_val, "local"</var>)<var><a name="index-java_005funsigned_005fautoconversion-3875"></a></var><br>
<blockquote><p>Query or set the internal variable that controls how integer classes are
converted when <code>java_matrix_autoconversion</code> is enabled.  When enabled,
Java arrays of class Byte or Integer are converted to matrices of class
uint8 or uint32 respectively.  The default value is true.

        <p>When called from inside a function with the <code>"local"</code> option, the
variable is changed locally for the function and any subroutines it calls. 
The original variable value is restored when exiting the function.

     <p class="noindent"><strong>See also:</strong> <a href="XREFjava_005fmatrix_005fautoconversion.html#XREFjava_005fmatrix_005fautoconversion">java_matrix_autoconversion</a>, <a href="XREFdebug_005fjava.html#XREFdebug_005fjava">debug_java</a>.

        </blockquote></div>

<!-- debug_java libinterp/octave-value/ov-java.cc -->
   <p><a name="XREFdebug_005fjava"></a>

<div class="defun">
&mdash; Built-in Function: <var>val</var> = <b>debug_java</b> ()<var><a name="index-debug_005fjava-3876"></a></var><br>
&mdash; Built-in Function: <var>old_val</var> = <b>debug_java</b> (<var>new_val</var>)<var><a name="index-debug_005fjava-3877"></a></var><br>
&mdash; Built-in Function:  <b>debug_java</b> (<var>new_val, "local"</var>)<var><a name="index-debug_005fjava-3878"></a></var><br>
<blockquote><p>Query or set the internal variable that determines whether extra debugging
information regarding the initialization of the JVM and any Java exceptions
is printed.

        <p>When called from inside a function with the <code>"local"</code> option, the
variable is changed locally for the function and any subroutines it calls. 
The original variable value is restored when exiting the function.

     <p class="noindent"><strong>See also:</strong> <a href="XREFjava_005fmatrix_005fautoconversion.html#XREFjava_005fmatrix_005fautoconversion">java_matrix_autoconversion</a>, <a href="XREFjava_005funsigned_005fautoconversion.html#XREFjava_005funsigned_005fautoconversion">java_unsigned_autoconversion</a>.

        </blockquote></div>

   </body></html>

